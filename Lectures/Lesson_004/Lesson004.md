## Функции высшего порядка, работа с файлами.

### Анонимные, lambda-функции
Лямбда-функции – это анонимные функции, которые могут включать только одно выражение. Они обычно используются для выполнения простых операций, не требующих полного определения функции с помощью ключевого слова def. Лямбда-функции могут принимать любое количество аргументов, но могут возвращать только одно значение.

Создание лямбда-функций
```py
lambda arguments: expression
```
Пример создания лямбда-функции, которая принимает два аргумента и возвращает их сумму:
```py
sum = lambda x, y: x + y
```
Лямбда-функции могут быть использованы везде, где используются обычные функции. Они особенно полезны при использовании с функциями высшего порядка, такими как map(), filter() и reduce().

### Функция map

Функция map() применяет указанную функцию ко всем элементам итерируемого объекта (например, списка) и возвращает итератор с результатами. В следующем примере мы используем лямбда-функцию для возведения каждого элемента списка в квадрат:
```py
numbers = [1, 2, 3, 4, 5]
squared_numbers = map(lambda x: x**2, numbers)
print(list(squared_numbers))  # Output: [1, 4, 9, 16, 25]
```
### Функция filter()

Функция filter() фильтрует элементы итерируемого объекта на основе указанной функции и возвращает только те элементы, для которых функция возвращает True. 
```py
numbers = [1, 2, 3, 4, 5]
even_numbers = filter(lambda x: x % 2 == 0, numbers)
print(list(even_numbers))  # Output: [2, 4]
```
### Функция zip
Функция zip создает итератор, объединяющий элементы из последовательностей (списки, кортежи, множества). Функция возвращает итератор, в котором все элементы первой и второй последовательностей сливаются вместе по порядку.
```py
users = ['user1', 'user2', 'user3', 'user4', 'user5']
ids = [4, 5, 9, 14, 7]
data = list(zip(users, ids))
print(data) # [('user1', 4), ('user2', 5), ('user3', 9), ('user4', 14), ('user5', 7)]
```

С помощью функции zip можно одновременно перебирать несколько объектов. Давайте для примера переберем три списка:
```py
users = ['user1', 'user2', 'user3', 'user4', 'user5']
ids = [4, 5, 9, 14, 7]
salary = [111, 222, 333]
data = list(zip(users, ids, salary))
print(data) # [('user1', 4, 111), ('user2', 5, 222), ('user3', 333)]
```

### Функция enumerate
Функция enumerate() применяется для итерируемых объектов и создает объект-генератор, который генерирует кортежи, состоящие из двух элементов – индекса элемента и самого элемента.
```py
users = ['user1', 'user2', 'user3']
data = list(enumerate(users))
print(data) # [(0, 'user1'), (1, 'user2'), (2, 'user3))]
```

### Файлы
Файлы в текстовом формате используются для:
* Хранения данных
* Передачи данных в клиент-серверных проектах
* Хранения конфигов
* Логирования действий   

Что нужно для работы с файлами:
1. Завести переменную, которая будет связана с этим текстовым файлом.
2. Указать путь к файлу.
3. Указать, в каком режиме мы будем работать с файлом.


Варианты режима (мод):
a – открытие для добавления данных.
* Позволяет дописывать что-то в имеющийся файл.
* Если вы попробуете дописать что-то в несуществующий файл, то файл будет создан и в него начнется запись.

r – открытие для чтения данных.
* Позволяет читать данные из файла.
* Если вы попробуете считать данные из файла, которого не существует, программа
выдаст ошибку.
w – открытие для записи данных.
* Позволяет записывать данные и создавать файл, если его не существует.

Файлы
Миксованные режимы:
1. w+
* Позволяет открывать файл для записи и читать из него.
* Если файла не существует, он будет создан.
2. r+
* Позволяет открывать файл для чтения и дописывать в него.
* Если файла не существует, программа выдаст ошибку.
Файлы
Примеры использования различных режимов в коде:
1. Режим a
```py
 colors = ['red', 'green', 'blue']
 data = open('file.txt', 'a') # здесь указываем режим, в котором будем работать
 data.writelines(colors) # разделителей не будет
 data.close()
``` 
* data.close() — используется для закрытия файла, чтобы разорвать подключение файловой
переменной с файлом на диске.
* exit() — позволяет не выполнять код, прописанный после этой команды в скрипте.
* В итоге создаётся текстовый файл с текстом внутри: redbluedreen.
* При повторном выполнении скрипта redbluedreenredbluedreen — добавление в
существующий файл, а не перезапись файлов.

Ещё один способ записи данных в файл:
```py
with open('file.txt', 'w') as data:
 data.write('line 1\n')
 data.write('line 2\n')
``` 
2. Режим r - чтение данных из файла:
 ```py
 path = 'file.txt'
 data = open(path, 'r')
 for line in data:
 print(line)
 data.close()
```
3. Режим w - запись данных в файл:
```py
 colors = ['red', 'green', 'blue']
 data = open('file.txt', 'w')
 data.writelines(colors) # разделителей не будет
data.close()
```
* В итоге создаётся текстовый файл с текстом внутри: ‘redbluedreen’.
* В случае перезаписи новые данные записываются, а старые удаляются.

### Модуль os
Модуль os предоставляет множество функций для работы с операционной системой, причем их поведение, как правило, не зависит от ОС, поэтому программы остаются переносимыми.   
Для того, чтобы начать работать с данным модулем необходимо его импортировать в свою программу:
```py
import os
```
Базовые функциями данного модуля:
* os.chdir(path) - смена текущей директории.
```py
import os
os.chdir('C:/Users/79190/PycharmProjects/GB')
```
* os.getcwd() - текущая рабочая директория
```py
import os
print(os.getcwd()) # 'C:\Users\79190\PycharmProjects\webproject'
```
* os.path - является вложенным модулем в модуль os и реализует некоторые полезные функции для работы с путями, такие как:   
os.path.basename(path) - базовое имя пути
```py
import os
print(os.path.basename('C:/Users/79190/PycharmProjects/webproject/main.py')) #'main.py'
```
* os.path.abspath(path) - возвращает нормализованный абсолютный путь.
```py
import os
print(os.path.abspath('main.py')) # 'C:/Users/79190/PycharmProjects/webproject/main.py'
```
Это лишь малая часть возможностей модуля os.

### Модуль shutil
Модуль shutil содержит набор функций высокого уровня для обработки файлов, групп файлов, и папок. В частности, доступные здесь функции позволяют копировать, перемещать и удалять файлы и папки.   
Часто используется вместе
с модулем os. Для того, чтобы начать работать с данным модулем необходимо его импортировать в свою программу:
```py
import shutil
```
Базовые функции данного модуля:
* shutil.copyfile(src, dst) - копирует содержимое (но не метаданные) файла src в файл dst.
* shutil.copy(src, dst) - копирует содержимое файла src в файл или папку dst.
* shutil.rmtree(path) - Удаляет текущую директорию и все поддиректории; path должен указывать на
директорию, а не на символическую ссылку.


